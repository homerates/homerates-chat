<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>HomeRates Chat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    body { margin:0; font-family: system-ui, sans-serif; color:#222; background:#fafafa; height:100vh; display:flex; }
    .layout { display:grid; grid-template-columns: 260px 1fr; width:100%; }
    .sidebar { background:#f4f4f4; border-right:1px solid #ddd; padding:1rem; display:flex; flex-direction:column; gap:.75rem; }
    .sidebar h2 { margin:0; font-size:1rem; opacity:.85; }
    .sidegroup { margin-top:.25rem; }
    .sidegroup h3 { margin:.5rem 0 .35rem; font-size:.9rem; opacity:.7; }
    .sidebtn, .sideitem { width:100%; text-align:left; background:#fff; border:1px solid #ddd; border-radius:8px; padding:.55rem .65rem; margin:.25rem 0; cursor:pointer; font-size:.95rem; }
    .sideitem { background:#fff; }
    .muted { font-size:.85rem; opacity:.75; }
    .main { display:flex; flex-direction:column; height:100vh; }
    .thread { flex:1; overflow-y:auto; padding:1rem; }
    .composer { border-top:1px solid #ddd; padding:.5rem; display:flex; gap:.5rem; }
    .composer textarea { flex:1; resize:none; padding:.5rem; font-size:1rem; }
    .composer button { padding:.5rem 1rem; font-size:1rem; cursor:pointer; }
    .msg { white-space: pre-wrap; line-height:1.45; margin-bottom:1rem; }
    .msg p { margin:0 0 .75rem; }
    .msg.assistant { background:#fff; padding:.75rem; border-radius:8px; box-shadow:0 1px 2px rgba(0,0,0,.1); }
    .msg.user { text-align:right; font-weight:600; }
    .sources-head { margin-top:.5rem; font-size:.85rem; opacity:.8; }
    .sources { margin:.25rem 0 .5rem 1.1rem; padding:0; }
    .sources li { margin:.2rem 0; }
    .sources a { text-decoration: underline; color:#0645AD; }
    .hidden { display:none !important; }
    .footer { border-top:1px dashed #ddd; padding:.4rem .75rem; font-size:.85rem; color:#555; display:flex; gap:.75rem; align-items:center; }
    .dot { width:8px; height:8px; border-radius:50%; background:#38b000; }
    @media (max-width: 640px) {
      .layout { grid-template-columns: 1fr !important; }
      .sidebar { order:2; }
      .main { order:1; }
      .composer { position: sticky; bottom:0; background:#fff; }
    }
  </style>
</head>
<body>
  <div class="layout">
    <aside class="sidebar">
      <h2>HomeRates.ai</h2>

      <div class="sidegroup">
        <button id="new-chat" class="sidebtn">New Chat</button>
        <button id="save-chat" class="sidebtn">Save Chat</button>
        <button id="new-project" class="sidebtn">New Project</button>
      </div>

      <div class="sidegroup">
        <h3>Projects</h3>
        <div id="projects-list" class="muted">None yet</div>
      </div>

      <div class="sidegroup">
        <h3>Saved Threads</h3>
        <div id="saved-list" class="muted">No saved threads</div>
      </div>

      <div class="footer">
        <span class="dot" title="API healthy"></span>
        <span id="version">v0</span>
      </div>
    </aside>

    <main class="main">
      <div id="thread" class="thread"></div>
      <form id="composer" class="composer">
        <textarea id="query" rows="2" placeholder="Ask me anything..."></textarea>
        <button id="send" type="submit">Send</button>
      </form>
    </main>
  </div>

  <script src="main.js?v=13"></script>
</body>
</html>
